#!/usr/bin/env python3
import getpass
import genpass


TABLE = [
    {
        'name': 'google',
        'nonce': '2013-10-09: nonce for google',
    },
    {
        'name': 'dropbox',
        'nonce': '2013-10-09: nonce for dropbox',
    },
    {
        'name': 'keepass',
        'nonce': '2013-10-09: nonce for keepass',
    },
]


def get_item():
    for i in range(len(TABLE)):
        print('({}) {}'.format(i, TABLE[i]['name']))
    selection = getpass.getpass('Selection:')
    selection = int(selection)
    return TABLE[selection]


def main():
    item = get_item()
    password = getpass.getpass('Enter password:')
    param = {}
    for key in ('nonce', 'salt', 'iterations'):
        if key in item:
            param[key] = item[key]
    result = genpass.gen_pass(password, **param)
    print('{}'.format(result))


if __name__ == '__main__':
    main()
